<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
  </head>
  <body>
    <twine>
      <!-- UUID://DEC7B08C-8D6C-416E-A86D-180A53DBF339// --><tw-storydata name="test_script" startnode="11" creator="Tweego" creator-version="2.0.0+089d4ca77e5b" ifid="DEC7B08C-8D6C-416E-A86D-180A53DBF339" zoom="1" format="Chatbook" format-version="0.0.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-tag name="no-markdown" color="gray"></tw-tag><tw-tag name="system" color="purple"></tw-tag><tw-tag name="auto" color="green"></tw-tag><tw-tag name="prologue" color="blue"></tw-tag><tw-tag name="speaker-bot" color="orange"></tw-tag><tw-passagedata pid="1" name="gql references" tags="system prologue" position="25,125" size="200,100">- ignore:
    CURRENT_AUTHORIZATION: &amp;CURRENT_AUTHORIZATION |
      query currentAuthorization {
        currentUser {
          id,
          firstName,
          authorizations (orderBy: PRIMARY_KEY_ASC) {
            nodes {
              providerId,
              providerEmails
            }
          }
        }
      }
- ignore:
    UPDATE_USER_DATA: &amp;UPDATE_USER_DATA |
      mutation updateUserData ($input: UpdateUserInput!) {
        updateUser(input:$input) {
          user {
            id
          }
        }
      }
- ignore:
    UPDATE_USER_DATA_VARS: &amp;UPDATE_USER_DATA_VARS |
      {
        &quot;input&quot;: {
          &quot;id&quot;: {{userId}},
          &quot;patch&quot;: {
            &quot;firstName&quot;: &quot;{{firstName}}&quot;,
            &quot;aboutPronoun&quot;: &quot;{{aboutPronoun}}&quot;,
            &quot;conjugatedPronoun&quot;: &quot;{{conjugatedPronoun}}&quot;,
            &quot;possessivePronoun&quot;: &quot;{{possessivePronoun}}&quot;,
            &quot;primaryEmail&quot;: &quot;{{email}}&quot;
          }
        }
      }
- graphql:
    id: currentAuthorization
    query: *CURRENT_AUTHORIZATION
    store:
      - &quot;currentUser.id&quot;: userId
      - &quot;currentUser.firstName&quot;: firstName
      - &quot;currentUser.authorizations.nodes[0].providerEmails[0]&quot;: email
      - &quot;currentUser.authorizations.nodes[0].providerId&quot;: origin</tw-passagedata><tw-passagedata pid="2" name="Name Not OK" tags="speaker-bot no-markdown prompt-firstName" position="475,125" size="100,100">Okay, what name would you like me to use?

[[Confirm Email]]</tw-passagedata><tw-passagedata pid="3" name="Confirm Email" tags="speaker-bot no-markdown multiline" position="475,275" size="100,100">Ok. And the email {{which origin &quot;google-oauth2.+&quot; &quot;Google&quot; &quot;linkedin.+&quot; &quot;LinkedIn&quot; &quot;.*&quot; &quot;your email provider&quot;}} gave me is {{email}}.

You can always update that later.

One last thing

How should I refer to you?

[[&quot;He&quot; pronouns (he/him)]]
[[&quot;She&quot; pronouns (she/her)]]
[[&quot;They&quot; pronouns (they/them)]]
[[&quot;Ze&quot; pronouns (ze/zir)]]
[[I&#39;d like to be specific]]
[[Just use my name]]</tw-passagedata><tw-passagedata pid="4" name="&quot;He&quot; pronouns (he/him)" tags="auto system" position="300,425" size="100,100">- set: aboutPronoun him
- set: conjugatedPronoun he
- set: posessivePronoun his

[[Save]]</tw-passagedata><tw-passagedata pid="5" name="&quot;She&quot; pronouns (she/her)" tags="auto system" position="425,425" size="100,100">- set: aboutPronoun her
- set: conjugatedPronoun she
- set: posessivePronoun her

[[Save]]</tw-passagedata><tw-passagedata pid="6" name="&quot;They&quot; pronouns (they/them)" tags="auto system" position="550,425" size="100,100">- set: aboutPronoun them
- set: conjugatedPronoun they
- set: posessivePronoun their

[[Save]]</tw-passagedata><tw-passagedata pid="7" name="&quot;Ze&quot; pronouns (ze/zir)" tags="auto system" position="675,425" size="100,100">set: aboutPronoun zir
set: conjugatedPronoun ze
set: posessivePronoun zir

[[Save]]</tw-passagedata><tw-passagedata pid="8" name="I&#39;d like to be specific" tags="speaker-bot no-markdown auto" position="800,425" size="100,100">Okay. You can do that in your profile once we&#39;re done here.

[[Save]]</tw-passagedata><tw-passagedata pid="9" name="Just use my name" tags="auto system" position="925,425" size="100,100">- set: aboutPronoun {{firstName}}
- set: conjugatedPronoun {{firstName}}
- set: posessivePronoun {{firstName}}

[[First Name as Pronoun]]</tw-passagedata><tw-passagedata pid="10" name="Save" tags="speaker-bot no-markdown auto" position="600,725" size="100,100">That&#39;s everything, let me save it for you.

[[Save Action]]</tw-passagedata><tw-passagedata pid="11" name="start" tags="speaker-bot no-markdown multiline" position="300,125" size="100,100">Hey there!

I&#39;m Karl (he/him). The AI ibex of Aibex.

I asked {{which origin &quot;google-oauth2.+&quot; &quot;Google&quot; &quot;linkedin.+&quot; &quot;LinkedIn&quot; &quot;.*&quot; &quot;your email provider&quot;}} what your name was, and they said &quot;{{default firstName &quot;to just use your email address&quot;}}&quot;. Is that right?

[[Yes-&gt;Confirm Email]]
[[No-&gt;Name Not OK]]</tw-passagedata><tw-passagedata pid="12" name="Save Result" tags="speaker-bot no-markdown auto" position="750,875" size="100,100">{{~# if updateResult ~}}
  Great, all saved
  {{~&gt; line ~}}
  You can update all of this from your profile, too.
{{~ else ~}}
  Awkward. Something went wrong. We&#39;ll come back to this
{{~/ if ~}}

[[Next Steps]]</tw-passagedata><tw-passagedata pid="13" name="Next Steps" tags="speaker-bot no-markdown auto" position="900,875" size="100,100">Next up, I&#39;d like to walk you through how Aibex works.
close this, and when you&#39;re ready, let&#39;s chat about &quot;What Is Aibex&quot;

[[end]]</tw-passagedata><tw-passagedata pid="14" name="end" tags="system" position="1050,875" size="100,100">- end: true</tw-passagedata><tw-passagedata pid="15" name="First Name as Pronoun" tags="auto speaker-bot no-markdown" position="925,550" size="100,100">No problem

[[Save]]</tw-passagedata><tw-passagedata pid="16" name="Save Action" tags="auto system" position="600,875" size="100,100">- graphql:
    id: updateUserData
    query: *UPDATE_USER_DATA
    variables: *UPDATE_USER_DATA_VARS
    format: true
    store:
      - SUCCESS: updateResult

[[Save Result]]</tw-passagedata></tw-storydata>
    </twine>
    <!-- prettier-ignore -->
    <script>document.querySelector("tw-passagedata[pid='"+document.querySelector("tw-storydata").getAttribute("startnode")+"']").classList.add("start");</script>
    <!-- prettier-ignore -->
    <style>
      twine,twine * { display: block; font-family: monospace; white-space: pre; }
      tw-storydata::before {
        content: ":: StoryTitle\A"attr(name);
        color: green;
      }
      tw-passagedata::before {
        content: ":: " attr(name) " [" attr(tags) ']';
        color: blue;
        margin: 1em 0 0 0;
        display: block;
        font-weight: bold;
      }
      tw-passagedata.start::before {
        content: "ðŸš€ :: " attr(name) " [" attr(tags) ']';
      }
      tw-passagedata + tw-passagedata {
        border-top: 1pt dashed black;
        padding: 1em 0;
        margin: 1em 0 0 0;
      }
    </style>
  </body>
</html>
